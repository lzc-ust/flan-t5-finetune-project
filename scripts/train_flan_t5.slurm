#!/bin/bash
#SBATCH --job-name=finetune-flan-t5
#SBATCH --output=logs/train_flan_t5_%j.out
#SBATCH --error=logs/train_flan_t5_%j.err
#SBATCH --nodes=1
#SBATCH --ntasks=1
#SBATCH --gpus=1
#SBATCH --cpus-per-task=16
#SBATCH --account="msccsit2024"
#SBATCH --partition=normal
#SBATCH --time=16:00:00

echo "ğŸ”µ Starting job on $(hostname) at $(date)"

# åˆ‡æ¢åˆ°é¡¹ç›®æ ¹ç›®å½•
cd /home/zlijw/flan-t5-finetune-project/

# è®¾ç½® PYTHONPATHï¼Œç¡®ä¿ src æ¨¡å—å¯è¢«è¯†åˆ«
export PYTHONPATH=$(pwd)

# æ­£å¼è®­ç»ƒï¼ˆå•å¡ï¼‰
echo "ğŸš€ Launching training..."
/home/zlijw/.conda/envs/flan-t5-finetune/bin/python src/train_flan_t5.py

echo "âœ… Training completed on $(hostname) at $(date)"